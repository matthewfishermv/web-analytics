as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_igray() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_map() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_pander() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_par() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_solarized() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_solarized_2() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_solid() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_stata() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_tufte() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_wsj() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_base() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_economist() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_economist_white() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_fivethirtyeight() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_foundation() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_gdocs() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
?theme_gdocs
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_gdocs(base_family = "Trebuchet MS") +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_gdocs(base_family = "serif") +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_gdocs(base_family = "GillSans") +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_gdocs() +
labs(
title = element_text("Session Duration"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))
) +
xlab("Session Duration (Minutes)") +
ylab("Frequency") +
theme(legend.position = "none")
source('D:/Projects/GoogleAnalytics/src/session_length.R')
# Visualize session duration
plot_session_length(data, type = "histogram")
# Visualize session duration
plot_session_length(data, type = "histogram")
source('D:/Projects/GoogleAnalytics/src/session_length.R')
# Visualize session duration
plot_session_length(data, type = "histogram")
# Get data from the past year.
start_date <- today() - years(5)
end_date <- today()
data <-
get_data(
account,
c("pageviews"),
c("source", "browser", "sessionDurationBucket"),
start_date = start_date,
end_date = end_date
)
# Visualize session duration
plot_session_length(data, type = "histogram")
data$raw
today()
data$processed %>%
ggplot(aes(x = dimensions, y = sessionDurationBucket, fill = 1))
dimensions <- c("browser")
data$processed %>%
ggplot(aes(x = dimensions, y = sessionDurationBucket, fill = 1))
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
facet_wrap(~ dimensions)
dimensions
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
facet_wrap(~ browser)
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
facet_wrap(. ~ browser)
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
facet_wrap(browser)
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
facet_wrap(browser ~)
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
facet_wrap(browser ~ .)
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_line()
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram()
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200)
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_gdocs()
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
theme_gdocs() +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
facet_wrap( ~ dimensions) +
theme_gdocs() +
theme(legend.position = "none")
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
facet_wrap( ~ browser) +
theme_gdocs() +
theme(legend.position = "none")
dimension <- "browser"
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
facet_wrap( ~ dimension) +
theme_gdocs() +
theme(legend.position = "none")
dimension
source('D:/Projects/GoogleAnalytics/src/session_length.R')
data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
facet_wrap(as.formula(paste("~", dimension))) +
theme_gdocs() +
theme(legend.position = "none")
p <- plot_session_length(data)
p
source('D:/Projects/GoogleAnalytics/src/session_length.R')
p + facet_wrap(as.formula(paste("~", dimension)))
dimension
as.formula(paste("~", dimension))
as.formula(paste("~", dimensions))
dimensions
dimensions <- c("browser", "source")
dimensions
as.formula(paste("~", dimensions))
as.formula(paste("~", paste(dimensions, " +")))
as.formula(paste("~", collapse(dimensions, "+")))
p
p
plot(p)
ggplot(p)
source('D:/Projects/GoogleAnalytics/src/session_length.R')
plot_session_length <- function(data, type = "histogram") {
if (type == "histogram") {
p <- data$processed %>%
ggplot(aes(x = sessionDurationBucket, fill = 1)) +
geom_histogram(binwidth = 200) +
labs(title = element_text("Session Length"),
subtitle = paste(format(ymd(
as.Date(data$parameters$start_date)
), "%m/%d/%Y"),
"-",
format(ymd(
as.Date(data$parameters$end_date)
), "%m/%d/%Y"))) +
xlab("Session Length (Minutes)") +
ylab("Frequency") +
theme_gdocs() +
theme(legend.position = "none")
return(p)
}
}
# Visualize session length.
plot_session_length(data, type = "histogram")
# Visualize session length.
p <- plot_session_length(data, type = "histogram")
p
p + facet_wrap(~ browser)
wrap_session_dimension(p, dimension)
wrap_session_dimension(p, dimensions)
wrap_session_dimension(p, source)
wrap_session_dimension(p, "source")
source('D:/Projects/GoogleAnalytics/src/session_length.R')
source('D:/Projects/GoogleAnalytics/src/session_length.R')
source('D:/Projects/GoogleAnalytics/src/session_length.R')
# Visualize session length.
plot_session_length(data, type = "histogram")
# Visualize session length.
p <- plot_session_length(data, type = "histogram")
p
wrap_session_dimension(p, "browser")
wrap_session_dimension(p, "source")
p
wrap_session_dimension(p, "source")
wrap_session_dimension(p, "pageviews")
# Visualize session length.
p <- plot_session_length(data, type = "histogram")
p
wrap_session_dimension(p, "browser")
ggplotly(p)
library(plotly)
ggplotly(p)
ggplotly(wrap_session_dimension(p, "browser"))
